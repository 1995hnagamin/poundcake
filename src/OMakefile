.PHONY: all install clean

USE_OCAMLFIND =
	true

if $(not $(OCAMLFIND_EXISTS))
   eprintln(This project requires ocamlfind, but is was not found.)
   eprintln(You need to install ocamlfind and run "omake --configure".)
   exit 1

OCAMLINCLUDES +=

NATIVE_ENABLED = $(OCAMLOPT_EXISTS)
BYTE_ENABLED = $(not $(OCAMLOPT_EXISTS))

OCAMLFLAGS    +=
OCAMLCFLAGS   +=
OCAMLOPTFLAGS +=
OCAML_LINK_FLAGS +=
OCAML_BYTE_LINK_FLAGS +=
OCAML_NATIVE_LINK_FLAGS +=

FILES[] =
   operation

PROGRAM = poundcake
OCAML_LIBS +=
OCAML_CLIBS +=
OCAML_OTHER_LIBS +=
OCAML_LIB_FLAGS +=

OCamlProgram($(PROGRAM), $(FILES))

.DEFAULT: $(if $(BYTE_ENABLED), $(PROGRAM).run) \
					$(if $(NATIVE_ENABLED), $(PROGRAM).opt)

.PHONY: clean
clean:
  rm -f \
     $(filter-proper-targets $(glob $(addsuffix .*, $(FILES)))) \
		 $(PROGRAM).run $(PROGRAM).opt *.omc \
		 $(LIB).cma $(LIB).a $(LIB).cmxa
